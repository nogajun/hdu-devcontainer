// For format details, see https://aka.ms/devcontainer.json. For config options, see the README at:
// https://github.com/microsoft/vscode-dev-containers/tree/v0.245.2/containers/docker-existing-dockerfile
{
  "name": "programming",
  "build": {
    // Update the 'dockerFile' property if you aren't using the standard 'Dockerfile' filename.
    "dockerfile": "Dockerfile",
    // Sets the run context to one level up instead of the .devcontainer folder.
    "context": ".."
  },
  "customizations": {
    "vscode": {
      "settings": {
        // 自動的にワークスペースを開く
        "autoOpenWorkspace.enableAutoOpenAlwaysFirst": true,
        // 括弧に色付け
        "editor.bracketPairColorization.independentColorPoolPerBracketType": true,
        // カーソルはブロック型
        "editor.cursorStyle": "block",
        // フォント
        "editor.fontFamily": "Hack, Inconsolata, 'Noto Sans Mono','IBM Plex Mono', 'Noto Sans Mono JP', 'Noto Sans CJK Mono JP', monospace",
        // フォントサイズ
        "editor.fontSize": 18,
        // 貼り付けたものをは整形する
        "editor.formatOnPaste": true,
        // 保存すると整形する
        "editor.formatOnSave": true,
        // コードの書式設定する
        "editor.formatOnType": true,
        // 括弧のペアを可視化
        "editor.guides.bracketPairs": true,
        "editor.guides.bracketPairsHorizontal": true,
        // マウスオーバーのポップアップを有効
        "editor.hover.enabled": true,
        // ミニマップは非表示
        "editor.minimap.enabled": false,
        // 選択範囲の角を丸める
        "editor.roundedSelection": false,
        // タブサイズの基本は2文字
        "editor.tabSize": 2,
        // 行折り返し有効
        "editor.wordWrap": "on",
        // 半角スペース表示無効
        "editor.renderWhitespace": "none",
        // 入力中のヒントを出さない
        "editor.parameterHints.enabled": false,
        // インデントはスペース
        "editor.insertSpaces": true,
        // おすすめ拡張機能を表示しない
        "extensions.ignoreRecommendations": true,
        // 改行コードは\n
        "files.eol": "\n",
        // ファイル最後に空行を追加
        "files.insertFinalNewline": true,
        // ファイル最後の空行を削除。上と合わせて最後に空行1行入る
        "files.trimFinalNewlines": true,
        // ファイル最後のスペースは削除
        "files.trimTrailingWhitespace": true,
        // ターミナルのフォントサイズ
        "terminal.integrated.fontSize": 18,
        // Linuxでタイトルバーを表示しない
        "window.titleBarStyle": "custom",
        // HTMLの行折り返し無効
        "html.format.wrapLineLength": 0,
        // ディレクトリパスを展開
        "explorer.compactFolders": false,
        // アイコンテーマはmaterial icon
        "workbench.iconTheme": "material-icon-theme",
        // Windows PowerShell向け設定 https://zenn.dev/nekocodex/articles/eb3403961ad9b966ff6e
        "terminal.integrated.env.windows": {
          "PSExecutionPolicyPreference": "RemoteSigned"
        },
        // Python isort設定
        "isort.args": [
          "--profile",
          "black"
        ],
        // HTML emmetを日本語に設定
        "emmet.variables": {
          "lang": "ja"
        },
        // Flake8で長い行をエラーにしない
        "flake8.args": [
          "--ignore=E501",
          "--max-line-length",
          "160"
        ],
        // blackフォーマッター設定
        "black-formatter.args": [
          "--line-length",
          "160"
        ],
        // HTML拡張機能設定
        "[html]": {
          "editor.defaultFormatter": "vscode.html-language-features",
          "editor.tabSize": 2
        },
        // CSS拡張機能設定
        "[css]": {
          "editor.defaultFormatter": "michelemelluso.code-beautifier",
          "editor.tabSize": 2
        },
        // Python拡張機能設定
        "[python]": {
          "editor.defaultFormatter": "ms-python.black-formatter",
          "editor.tabSize": 4,
          "editor.codeActionsOnSave": {
            "source.organizeImports": "explicit"
          }
        },
        // Markdown拡張機能設定
        "[markdown]": {
          "editor.tabSize": 4
        },
        // bootstrap css参照用
        "css.styleSheets": [
          "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        ]
      },
      "extensions": [
        "anbuselvanrocky.bootstrap5-vscode",
        "ecmel.vscode-html-css",
        "htmlhint.vscode-htmlhint",
        "ionutvmi.path-autocomplete",
        "mhutchie.git-graph",
        "michelemelluso.code-beautifier",
        "mosapride.zenkaku",
        "mrmlnc.vscode-duplicate",
        "ms-azuretools.vscode-docker",
        "ms-ceintl.vscode-language-pack-ja",
        "ms-python.black-formatter",
        "ms-python.flake8",
        "ms-python.isort",
        "ms-python.python",
        "ms-toolsai.jupyter",
        "ms-vscode.live-server",
        "njpwerner.autodocstring",
        "oderwat.indent-rainbow",
        "samuelcolvin.jinjahtml",
        "slightc.pip-manager",
        "visualstudioexptteam.vscodeintellicode",
        "KevinRose.vsc-python-indent",
        "zoma.vscode-auto-open-workspace"
      ]
    }
  },
  // Use 'forwardPorts' to make a list of ports inside the container available locally.
  // "forwardPorts": [],
  // Uncomment the next line to run commands after the container is created - for example installing curl.
  // "postCreateCommand": "mv ./gitignore ./.gitignore && /usr/bin/python -m venv .env/ && . .env/bin/activate && pip install -U pip setuptools ipykernel",
  // Uncomment when using a ptrace-based debugger like C++, Go, and Rust
  "runArgs": [
    "--userns=keep-id"
  ],
  // Uncomment to use the Docker CLI from inside the container. See https://aka.ms/vscode-remote/samples/docker-from-docker.
  // "mounts": [ "source=/var/run/docker.sock,target=/var/run/docker.sock,type=bind" ],
  // Uncomment to connect as a non-root user if you've added one. See https://aka.ms/vscode-remote/containers/non-root.
  "remoteUser": "docker"
}
